!function(){function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],o=!0,a=!1,r=void 0;try{for(var i,c=e[Symbol.iterator]();!(o=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(s){a=!0,r=s}finally{try{o||null==c.return||c.return()}finally{if(a)throw r}}return n}(e,t)||n(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{RN8A:function(n,o,r){"use strict";r.r(o),r.d(o,"DataSetLayoutModule",function(){return ge});var c=r("ofXK"),s=r("XIp8"),l=r("SxV6"),b=r("lJxs"),d=r("eIep"),u=r("5+tZ"),m=r("/uUt"),p=r("1G5W"),g=r("XNiG"),f=r("l5mm"),h=r("cp0P"),v=r("z6cu"),j=r("3Pt+"),w=r("fXoL"),_=r("tyNb"),x=r("LY9J"),M=r("F7l1"),P=r("14na"),y=r("I7yr"),O=r("1F7/"),L=r("x2Se"),C=r("sYmb");function k(e,t){if(1&e){var n=w.Nb();w.Kb(0),w.Mb(1,"div",5),w.Mb(2,"div",6),w.Tb("click",function(){return w.gc(n),w.Vb(2).displayModal()}),w.Ib(3,"img",7),w.Mb(4,"label",8),w.mc(5),w.Wb(6,"translate"),w.Lb(),w.Lb(),w.Lb(),w.Jb()}if(2&e){var o=w.Vb(),a=o.index,r=o.$implicit;w.xb(1),w.yb("data-index",a),w.xb(2),w.ac("src",r.src,w.hc),w.xb(2),w.nc(w.Xb(6,3,r.name))}}function S(e,t){if(1&e){var n=w.Nb();w.Mb(0,"div",9),w.Tb("click",function(){w.gc(n);var e=w.Vb().$implicit;return w.Vb().onClickButton(e.id)}),w.Ib(1,"img",10),w.Mb(2,"label",11),w.mc(3),w.Wb(4,"translate"),w.Lb(),w.Lb()}if(2&e){var o=w.Vb(),a=o.$implicit;w.yb("data-index",o.index),w.xb(1),w.jc(a.style),w.ac("src",a.src,w.hc),w.xb(2),w.nc(w.Xb(4,5,a.name))}}function I(e,t){if(1&e&&(w.Kb(0),w.kc(1,k,7,5,"ng-container",3),w.kc(2,S,5,7,"ng-template",null,4,w.lc),w.Jb()),2&e){var n=t.index,o=w.ec(3);w.xb(1),w.ac("ngIf",0===n)("ngIfElse",o)}}var N,T,F=((T=function(){function e(){var t=this;a(this,e),this.menuSchema=[{src:"../../../assets/icons/add.svg",id:"newProject",name:"menuName.newProject"},{src:"../../../assets/icons/import.svg",id:"importProject",name:"menuName.importProject",style:"width: 1.3vw; padding: 0.3vw;"},{src:"../../../assets/icons/project.svg",id:"myProject",name:"menuName.myProject"},{src:"../../../assets/icons/starred.svg",id:"starred",name:"menuName.starred"},{src:"../../../assets/icons/history.svg",id:"recent",name:"menuName.recent"},{src:"../../../assets/icons/trash.svg",id:"trash",name:"menuName.trash"}],this._onCreate=new w.n,this._onImport=new w.n,this.displayModal=function(){t._onCreate.emit(!0)},this.onClickButton=function(e){"importProject"===e?t._onImport.emit():console.log("This feature is not available yet")}}return i(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||T)},T.\u0275cmp=w.Bb({type:T,selectors:[["data-set-side-menu"]],outputs:{_onCreate:"_onCreate",_onImport:"_onImport"},decls:3,vars:1,consts:[[1,"dataset-sidemenu-container"],[4,"ngFor","ngForOf"],[1,"horizontal-line"],[4,"ngIf","ngIfElse"],["otherMenu",""],[1,"new-project-container"],[1,"new-project-btn",3,"click"],[1,"add-icon",3,"src"],[1,"new-project-txt"],[1,"current-project-btn",3,"click"],[1,"project-icon",3,"src"],[1,"current-project-txt"]],template:function(e,t){1&e&&(w.Mb(0,"div",0),w.kc(1,I,4,2,"ng-container",1),w.Lb(),w.Ib(2,"div",2)),2&e&&(w.xb(1),w.ac("ngForOf",t.menuSchema))},directives:[c.j,c.k],pipes:[C.c],styles:[".dataset-sidemenu-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-direction:column;width:16vw}.new-project-container[_ngcontent-%COMP%]{margin-bottom:5vh;margin-left:2vw}.new-project-btn[_ngcontent-%COMP%]{padding:1vw;border-radius:5vh;background-color:#525353;border:none;color:#fff;outline:none;cursor:pointer;display:flex;justify-content:space-around;align-items:center;min-width:10vw;max-width:10vw;min-height:4vh;max-height:4vh}.new-project-btn[_ngcontent-%COMP%]:hover{background-color:#393838}.add-icon[_ngcontent-%COMP%]{min-height:inherit;max-height:inherit}.new-project-txt[_ngcontent-%COMP%]{border:none;background:none;outline:none;cursor:pointer;font-size:2vh;color:#fff;text-align:start;white-space:nowrap}.current-project-btn[_ngcontent-%COMP%]{color:#fff;cursor:pointer;display:flex;align-items:center;border-radius:5vh;padding:1vh 1vw;margin-left:2vw;min-width:10vw;max-width:10vw;min-height:5vh;max-height:5vh;flex:1 1 100%}.current-project-btn[_ngcontent-%COMP%]:hover{background-color:#525353}.project-icon[_ngcontent-%COMP%]{min-height:4vh;max-height:4vh;flex:1 1 10%}.current-project-txt[_ngcontent-%COMP%]{border:none;background:none;outline:none;cursor:pointer;font-size:2vh;color:#fff;white-space:nowrap;flex:1 1 90%;text-align:left;padding-left:20px}.horizontal-line[_ngcontent-%COMP%]{width:12vw;background-color:#393838;min-height:.3vh;max-height:.3vh;margin:auto;border:.0625rem solid #000}"]}),T),E=((N=function(){function e(){a(this,e)}return i(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||N)},N.\u0275cmp=w.Bb({type:N,selectors:[["data-set-header"]],decls:6,vars:3,consts:[[1,"dataset-header-container"],[1,"label"],[1,"dataset-icon-container"]],template:function(e,t){1&e&&(w.Mb(0,"div",0),w.Mb(1,"label",1),w.mc(2),w.Wb(3,"translate"),w.Lb(),w.Mb(4,"div",2),w.Ib(5,"div"),w.Lb(),w.Lb()),2&e&&(w.xb(2),w.nc(w.Xb(3,1,"datasetHeader.datasetManagement")))},pipes:[C.c],styles:[".dataset-header-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;padding:1vw;min-width:80vw;max-width:80vw}.label[_ngcontent-%COMP%]{flex:1 1 80%;background:none;font-size:2.5vh;color:#fff;white-space:nowrap;min-height:inherit;max-height:inherit}.dataset-icon-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex:1 1 20%}.dataset-icon[_ngcontent-%COMP%]{flex:1 1 3%;min-width:2vw;max-width:2vw;cursor:pointer}.dataset-icon[_ngcontent-%COMP%]:hover{border-radius:5vh;background-color:#393838}.dataset-select[_ngcontent-%COMP%]{min-height:4vh;max-height:4vh;font-size:2vh;min-width:7vw;max-width:7vw;-moz-text-align-last:center;background:#000;color:#fff;border:.1vw solid;text-align-last:center}.dataset-select[_ngcontent-%COMP%]:focus, .dataset-select[_ngcontent-%COMP%]:hover{background:#393838}.dataset-select[_ngcontent-%COMP%]:focus, .dataset-select[_ngcontent-%COMP%]:hover, select[_ngcontent-%COMP%]{-moz-appearance:none;-webkit-appearance:none}option[_ngcontent-%COMP%]{background:#000;text-align:center}"]}),N);function D(e,t){1&e&&(w.Kb(0),w.Mb(1,"div",2),w.Mb(2,"div",3),w.Mb(3,"div",4),w.Mb(4,"label",5),w.mc(5),w.Wb(6,"translate"),w.Lb(),w.Lb(),w.Mb(7,"div"),w.Mb(8,"label",6),w.mc(9),w.Wb(10,"translate"),w.Lb(),w.Lb(),w.Lb(),w.Lb(),w.Jb()),2&e&&(w.xb(5),w.nc(w.Xb(6,2,"datasetCard.fetchingProject")),w.xb(4),w.nc(w.Xb(10,4,"datasetCard.pleaseWait")))}function W(e,t){1&e&&(w.Kb(0),w.Mb(1,"label",22),w.mc(2),w.Wb(3,"translate"),w.Lb(),w.Jb()),2&e&&(w.xb(2),w.oc(" ",w.Xb(3,1,"datasetCard.uploading")," "))}function z(e,t){1&e&&(w.Kb(0),w.Mb(1,"label",24),w.mc(2),w.Wb(3,"translate"),w.Lb(),w.Jb()),2&e&&(w.xb(2),w.nc(w.Xb(3,1,"datasetCard.new")))}function X(e,t){1&e&&(w.Kb(0),w.Mb(1,"label",25),w.mc(2),w.Wb(3,"translate"),w.Lb(),w.Jb()),2&e&&(w.xb(2),w.nc(w.Xb(3,1,"datasetCard.available")))}function U(e,t){1&e&&(w.Kb(0),w.Mb(1,"label",26),w.mc(2),w.Wb(3,"translate"),w.Lb(),w.Jb()),2&e&&(w.xb(2),w.nc(w.Xb(3,1,"datasetCard.notAvailable")))}function R(e,t){if(1&e&&(w.Kb(0,23),w.kc(1,z,4,3,"ng-container",16),w.kc(2,X,4,3,"ng-container",16),w.kc(3,U,4,3,"ng-container",16),w.Jb()),2&e){var n=w.Vb().$implicit;w.ac("ngSwitch",n),w.xb(1),w.ac("ngIf",n.is_new),w.xb(1),w.ac("ngIf",!n.is_new&&!n.is_loaded),w.xb(1),w.ac("ngIf",!n.is_new&&n.is_loaded)}}function A(e,t){if(1&e){var n=w.Nb();w.Kb(0),w.Mb(1,"span"),w.Mb(2,"div",27),w.Mb(3,"div",28),w.Tb("click",function(){w.gc(n);var e=w.Vb().$implicit;return w.Vb(3).onRenameProject(e.project_name)}),w.mc(4),w.Wb(5,"translate"),w.Lb(),w.Mb(6,"div",28),w.Tb("click",function(){w.gc(n);var e=w.Vb().$implicit;return w.Vb(3).onDeleteProject(e.project_name)}),w.mc(7),w.Wb(8,"translate"),w.Lb(),w.Lb(),w.Lb(),w.Jb()}2&e&&(w.xb(4),w.oc(" ",w.Xb(5,2,"datasetCard.renameProject")," "),w.xb(3),w.oc(" ",w.Xb(8,4,"datasetCard.deleteProject")," "))}var J=function(e){return[e]};function V(e,t){if(1&e){var n=w.Nb();w.Kb(0),w.Mb(1,"div",9),w.Tb("dblclick",function(){w.gc(n);var e=t.index,o=t.$implicit;return w.Vb(3).onOpenProject(e,o)}),w.Mb(2,"div",10),w.Mb(3,"div"),w.kc(4,W,4,3,"ng-container",0),w.kc(5,R,4,4,"ng-template",null,11,w.lc),w.Lb(),w.Mb(7,"div",12),w.Mb(8,"div",13),w.Tb("click",function(){w.gc(n);var e=t.$implicit,o=w.Vb(3);return o.conditionalDisableClickEvent(e.is_loaded)?null:o.onStarred(e,!e.is_starred)}),w.Ib(9,"img",14),w.Lb(),w.Mb(10,"div",13),w.Tb("click",function(){w.gc(n);var e=t.$implicit,o=t.index,a=w.Vb(3);return a.conditionalDisableClickEvent(e.is_loaded)?null:a.onDisplayMore(o)}),w.Ib(11,"img",15),w.Lb(),w.kc(12,A,9,6,"ng-container",16),w.Lb(),w.Lb(),w.Mb(13,"div",17),w.Mb(14,"label",18),w.Mb(15,"div",19),w.mc(16),w.Wb(17,"translate"),w.Lb(),w.Lb(),w.Lb(),w.Mb(18,"div",20),w.Mb(19,"label",18),w.Mb(20,"div",21),w.mc(21),w.Lb(),w.Lb(),w.Lb(),w.Mb(22,"div",20),w.Mb(23,"label",18),w.Mb(24,"div",21),w.mc(25),w.Wb(26,"translate"),w.Lb(),w.Lb(),w.Lb(),w.Lb(),w.Jb()}if(2&e){var o=t.$implicit,a=t.index,r=w.ec(6),i=w.Vb(3);w.xb(1),w.ac("ngClass",i.conditionalDisableProject(o)),w.yb("data-index",a),w.xb(3),w.ac("ngIf",i.isExactIndex(a)&&i._jsonSchema.isUploading)("ngIfElse",r),w.xb(3),w.ac("ngClass",i.conditionalDisableProject(o)),w.xb(2),w.ac("src",w.cc(19,J,o.is_starred?i.starredActiveIcon:i.starredInactiveIcon),w.hc),w.xb(3),w.ac("ngIf",i.isExactIndex(a)),w.xb(2),w.ac("title",o.created_date),w.xb(2),w.pc(" ",w.Xb(17,15,"datasetCard.created")," ",o.created_date," "),w.xb(3),w.ac("title",o.project_name),w.xb(2),w.oc(" ",o.project_name," "),w.xb(2),w.ac("title","Total Photo: "+o.total_uuid),w.xb(2),w.pc(" ",w.Xb(26,17,"datasetCard.totalPhoto")," ",o.total_uuid," ")}}function $(e,t){if(1&e&&(w.Kb(0),w.Mb(1,"div",2),w.kc(2,V,27,21,"ng-container",8),w.Lb(),w.Jb()),2&e){var n=w.Vb(2);w.xb(2),w.ac("ngForOf",n._jsonSchema.projects)}}function B(e,t){1&e&&(w.Mb(0,"div",2),w.Mb(1,"div",3),w.Mb(2,"div",4),w.Mb(3,"label",5),w.mc(4),w.Wb(5,"translate"),w.Lb(),w.Lb(),w.Mb(6,"div"),w.Mb(7,"label",6),w.mc(8),w.Wb(9,"translate"),w.Lb(),w.Lb(),w.Lb(),w.Lb()),2&e&&(w.xb(4),w.nc(w.Xb(5,2,"datasetCard.noProject")),w.xb(4),w.nc(w.Xb(9,4,"datasetCard.createNew")))}function H(e,t){if(1&e&&(w.kc(0,$,3,1,"ng-container",0),w.kc(1,B,10,6,"ng-template",null,7,w.lc)),2&e){var n=w.ec(2),o=w.Vb();w.ac("ngIf",o._jsonSchema.projects.length>0)("ngIfElse",n)}}var K,q=((K=function(){function e(){var t=this;a(this,e),this._onClick=new w.n,this._onStarred=new w.n,this._onDelete=new w.n,this._onRename=new w.n,this.starredActiveIcon="../../../assets/icons/starred_active.svg",this.starredInactiveIcon="../../../assets/icons/starred.svg",this.cardSchema={clickIndex:-1},this.previousProjectLength=0,this.conditionalDisableProject=function(e){return e.is_loaded?"disabled":"enabled"},this.conditionalDisableClickEvent=function(e){return e},this.onOpenProject=function(e,n){var o=n.project_name;!n.is_loaded&&!t.isExactIndex(e)&&t._onClick.emit(o)},this.onDisplayMore=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.cardSchema.clickIndex,n=t.cardSchema.clickIndex;t.cardSchema={clickIndex:n===e?-1:e}},this.onCloseDisplay=function(){t.cardSchema.clickIndex=-1},this.onStarred=function(e,n){var o=e.project_name;t._jsonSchema.projects=t._jsonSchema.projects.map(function(e){return e.project_name===o?(e.is_starred=n,e):e}),t._onStarred.emit({projectName:o,starred:n})},this.isExactIndex=function(e){return e===t.cardSchema.clickIndex}}return i(e,[{key:"ngOnInit",value:function(){}},{key:"onRenameProject",value:function(e){this._onRename.emit({shown:!0,projectName:e}),this.onCloseDisplay()}},{key:"onDeleteProject",value:function(e){this._onDelete.emit(e),this.onCloseDisplay()}},{key:"ngOnChanges",value:function(e){!e._jsonSchema.currentValue.isUploading&&this.onDisplayMore()}},{key:"ngDoCheck",value:function(){this._jsonSchema.projects.length!==this.previousProjectLength&&(this.cardSchema.clickIndex=-1),this.previousProjectLength=this._jsonSchema.projects.length}}]),e}()).\u0275fac=function(e){return new(e||K)},K.\u0275cmp=w.Bb({type:K,selectors:[["data-set-card"]],inputs:{_jsonSchema:"_jsonSchema"},outputs:{_onClick:"_onClick",_onStarred:"_onStarred",_onDelete:"_onDelete",_onRename:"_onRename"},features:[w.vb],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["showCardBody",""],[1,"card-layout-container","scroll","fade-in"],[1,"no-project-card-container"],[1,"no-project-title-padding"],[1,"no-project-title"],[1,"no-project-subtitle"],["noProject",""],[4,"ngFor","ngForOf"],[1,"card-container",3,"ngClass","dblclick"],[1,"card-header-style"],["newLabel",""],[1,"card-icon-container",3,"ngClass"],[3,"click"],[1,"card-icon-style",3,"src"],["src","../../../assets/icons/more.svg",1,"card-icon-style"],[4,"ngIf"],[1,"card-title-style"],[3,"title"],[1,"card-title-txt"],[1,"project-name-style"],[1,"project-info"],[1,"project-status-uploading"],[3,"ngSwitch"],[1,"project-status-new"],[1,"project-status-available"],[1,"project-status-not-available"],[1,"popup-container"],[1,"popup-label",3,"click"]],template:function(e,t){if(1&e&&(w.kc(0,D,11,6,"ng-container",0),w.kc(1,H,3,2,"ng-template",null,1,w.lc)),2&e){var n=w.ec(2);w.ac("ngIf",t._jsonSchema.isFetching)("ngIfElse",n)}},directives:[c.k,c.j,c.i,c.m],pipes:[C.c],styles:['@keyframes fade-in{0%{opacity:0}to{opacity:1}}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}.fade-in[_ngcontent-%COMP%]{animation:fadeIn 1.5s ease;-webkit-animation:fadeIn 1.5s ease;-moz-animation:fadeIn ease 1.5s;-o-animation:fadeIn ease 1.5s;-ms-animation:fadeIn ease 1.5s}.card-layout-container[_ngcontent-%COMP%]{width:80vw;display:flex;flex-wrap:wrap;padding:0 0 0 1vw;overflow-y:scroll;position:relative;height:80vh}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px;background-color:#000}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:.5vw}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#525353}.card-container[_ngcontent-%COMP%]{min-width:11vw;max-width:11vw;min-height:30vh;max-height:30vh;border-style:solid;font-size:2.2vh;background:#2e2d2d;position:relative}.card-container[_ngcontent-%COMP%]:hover{background:#404040}.card-container[_ngcontent-%COMP%]:before{content:"";display:block;height:100%;position:absolute;top:0;left:0;width:.3vw;background-color:#363636}.enabled[_ngcontent-%COMP%]{cursor:pointer}.disabled[_ngcontent-%COMP%]{cursor:not-allowed}.project-status-new[_ngcontent-%COMP%]{background-color:#f59221}.project-status-available[_ngcontent-%COMP%], .project-status-new[_ngcontent-%COMP%]{color:#f5f5f5;font-size:1.5vh;padding:.3vh 1.5vw .6vh 1vw}.project-status-available[_ngcontent-%COMP%]{background-color:#4bf521}.project-status-not-available[_ngcontent-%COMP%]{background-color:#f52121}.project-status-not-available[_ngcontent-%COMP%], .project-status-uploading[_ngcontent-%COMP%]{color:#f5f5f5;font-size:1.5vh;padding:.3vh 1.5vw .6vh 1vw}.project-status-uploading[_ngcontent-%COMP%]{background-color:#f5219d}.card-icon-container[_ngcontent-%COMP%]{display:flex}.card-icon-style[_ngcontent-%COMP%]{min-width:1.5vw;max-width:1.5vw;min-height:3vh;max-height:3vh}.card-icon-style[_ngcontent-%COMP%]:hover{border-radius:5vh;background-color:#393838}.card-header-style[_ngcontent-%COMP%]{margin-top:1vh;display:flex;flex-direction:row;justify-content:space-between;position:relative}.card-title-style[_ngcontent-%COMP%]{margin-left:1vw}.card-title-txt[_ngcontent-%COMP%]{color:#656667;font-size:1.3vh;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.project-name-style[_ngcontent-%COMP%]{margin-left:1vw;padding:1vh 0 0}.project-info[_ngcontent-%COMP%]{color:#dbdbda;font-size:2vh;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.tag-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;border-radius:10vw;background:#363636;width:4.5vw;padding:.2vw .3vh;cursor:pointer;outline:none;border:none;margin:.8vh 0 0 1vw}.tag-img[_ngcontent-%COMP%]{min-height:2vh;max-height:2vh;min-width:1vw;max-width:1vw;margin-left:.35vw}.tag-txt[_ngcontent-%COMP%]{font-size:1.2vh;color:#fff;padding:.2vh 0 0 .3vw;cursor:pointer}.popup-container[_ngcontent-%COMP%]{overflow:hidden;position:absolute;margin:4vh 0 0 -10vw;padding:.5vw;border-radius:.2vw;box-shadow:0 2px 5px 0 rgba(var(--shadow-rgb),.26),0 2px 10px 0 rgba(var(--shadow-rgb),.16);transform-origin:left top;transform:scale(1);opacity:1;white-space:nowrap;background:#fff;font-size:1.5vh;-webkit-animation:appear .35s ease-in 1;animation:appear .35s ease-in 1}@-webkit-keyframes appear{0%{opacity:0;transform:translateY(-10px)}}@keyframes appear{0%{opacity:0;transform:translateY(-10px)}}.popup-label[_ngcontent-%COMP%]{font-size:2vh;padding:.5vw}.popup-label[_ngcontent-%COMP%]:hover{background:#e9e9e9}.no-project-title[_ngcontent-%COMP%]{font-size:4vh;color:#000;white-space:nowrap}.no-project-title-padding[_ngcontent-%COMP%]{padding:2vw}.no-project-subtitle[_ngcontent-%COMP%]{font-size:2vh;color:#656667;white-space:nowrap}.no-project-card-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:#c8c6c6;width:100%}']}),K),G=r("44N4"),Y=r("TJKd"),Z=["refProjectName"],Q=["labeltextfile"],ee=["labeltextfilename"],te=["refNewProjectName"];function ne(e,t){if(1&e&&(w.Mb(0,"div",26),w.Mb(1,"p",27),w.mc(2),w.Lb(),w.Lb()),2&e){var n=w.Vb();w.xb(2),w.oc(" ",n.isImageUploading?"Uploading the Images. Please Wait...":"Selection Window is Opened"," ")}}function oe(e,t){1&e&&(w.Mb(0,"span"),w.Mb(1,"small",29),w.mc(2),w.Wb(3,"translate"),w.Lb(),w.Lb()),2&e&&(w.xb(2),w.oc(" ",w.Xb(3,1,"projectNameExist")," "))}function ae(e,t){1&e&&(w.Mb(0,"span"),w.Mb(1,"small",29),w.mc(2),w.Wb(3,"translate"),w.Lb(),w.Lb()),2&e&&(w.xb(2),w.oc(" ",w.Xb(3,1,"projectNameRequired")," "))}function re(e,t){if(1&e&&(w.Kb(0),w.Mb(1,"div",28),w.kc(2,oe,4,3,"span",12),w.kc(3,ae,4,3,"span",12),w.Lb(),w.Jb()),2&e){var n=w.Vb(),o=null,a=null;w.xb(2),w.ac("ngIf",null==(o=n.form.get("projectName"))?null:o.getError("exist")),w.xb(1),w.ac("ngIf",null==(a=n.form.get("projectName"))?null:a.getError("required"))}}function ie(e,t){1&e&&(w.Mb(0,"span"),w.Mb(1,"small",29),w.mc(2),w.Wb(3,"translate"),w.Lb(),w.Lb()),2&e&&(w.xb(2),w.oc(" ",w.Xb(3,1,"projectNameExist")," "))}function ce(e,t){1&e&&(w.Mb(0,"span"),w.Mb(1,"small",29),w.mc(2),w.Wb(3,"translate"),w.Lb(),w.Lb()),2&e&&(w.xb(2),w.oc(" ",w.Xb(3,1,"projectNameRequired")," "))}function se(e,t){if(1&e&&(w.Kb(0),w.Mb(1,"div",28),w.kc(2,ie,4,3,"span",12),w.kc(3,ce,4,3,"span",12),w.Lb(),w.Jb()),2&e){var n=w.Vb(),o=null,a=null;w.xb(2),w.ac("ngIf",null==(o=n.renameForm.get("newProjectName"))?null:o.getError("exist")),w.xb(1),w.ac("ngIf",null==(a=n.renameForm.get("newProjectName"))?null:a.getError("required"))}}var le,be,de,ue=[{path:"",component:(le=function(){function n(o,r,i,c,w,_,x,M){var P=this;a(this,n),this._fb=o,this._cd=r,this._router=i,this._dataSetService=c,this._spinnerService=w,this._imgLblModeService=_,this._languageService=x,this._modalService=M,this.onChangeSchema={currentThumbnailIndex:-1,thumbnailName:"",totalNumThumbnail:0,status:void 0},this.projectList={projects:[],isUploading:!1,isFetching:!1},this.inputProjectName="",this.newInputProjectName="",this.selectedProjectName="",this.oldProjectName="",this.labelTextUpload=[],this.subject$=new g.a,this.thumbnailList=[],this.labelList=[],this.unsubscribe$=new g.a,this.isLoading=!1,this.isOverlayOn=!1,this.isImageUploading=!1,this.imgLblMode=null,this.modalIdCreateProject="modal-create-project",this.modalIdRenameProject="modal-rename-project",this.createProjectModalBodyStyle={minHeight:"28vh",maxHeight:"28vh",minWidth:"31vw",maxWidth:"31vw",margin:"15vw 71vh",overflow:"none"},this.renameProjectModalBodyStyle={minHeight:"23vh",maxHeight:"23vh",minWidth:"31vw",maxWidth:"31vw",margin:"15vw 71vh",overflow:"none"},this.getProjectList=function(){P.projectList.isFetching=!0,P._dataSetService.getProjectList().pipe(Object(l.a)()).subscribe(function(e){var n=e.content;if(n){var o=Object(s.a)(n).map(function(e){return Object.assign(Object.assign({},e),{created_date:P.formatDate(e.created_date)})});P.projectList.projects=t(o),P.projectList.isFetching=!1}})},this.formatDate=function(e){var t=new Date(e),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].find(function(e,n){return n===t.getMonth()||void 0});return n?"".concat(n,"-").concat(t.getDate(),"-").concat(t.getFullYear()):"Error"},this.createFormControls=function(){P.form=P._fb.group({projectName:["",j.l.required]})},this.renameFormControls=function(){P.renameForm=P._fb.group({newProjectName:["",j.l.required]})},this.onChange=function(e){P.inputProjectName=e},this.onChangeRename=function(e){P.newInputProjectName=e},this.toggleModalDisplay=function(e){P._labelTextFilename.nativeElement.innerHTML="",P.labelTextUpload=[],e&&P.form.reset(),e?P._modalService.open(P.modalIdCreateProject):P._modalService.close(P.modalIdCreateProject)},this.toggleRenameModalDisplay=function(e){e.shown&&P.renameForm.reset(),e.shown?P._modalService.open(P.modalIdRenameProject):P._modalService.close(P.modalIdRenameProject),P.oldProjectName=e.projectName},this.importProject=function(){var e=P._dataSetService.importStatus();P._dataSetService.importProject().pipe(Object(l.a)(),Object(b.a)(function(e){return e.message})).subscribe(function(t){var n=!1;Object(f.a)(500).pipe(Object(d.a)(function(){return e}),Object(l.a)(function(e){return P.isOverlayOn=0===e.message,1!==e.message&&4!==e.message||(n=!0),n})).subscribe(function(e){P.getProjectList()})})},this.onFileChange=function(e){var n,o,a=e.target.files,r=null===(o=null===(n=P._labelTextFile.nativeElement.files)||void 0===n?void 0:n.item(0))||void 0===o?void 0:o.name;P._labelTextFilename.nativeElement.innerHTML=void 0===r?"":r;var i=new FileReader;if(a&&a.length){var c=a.item(0);i.onload=function(){P._cd.markForCheck()},i.onloadend=function(){var e=i.result.split("\n");if(e.length>0){var n,o=e.reduce(function(e,t){var n=t.replace(/[^A-Z0-9]+/gi,"").toLowerCase();return e.push(n),e},[]);P.labelTextUpload=[],(n=P.labelTextUpload).push.apply(n,t(o))}},c&&i.readAsText(c)}},this.onStarred=function(e){var t=e.projectName,n=e.starred;P._dataSetService.updateProjectStatus(t,n,"star").pipe(Object(l.a)()).subscribe(function(e){var t=e.message;return console.log(t)},function(e){return P.projectList={isUploading:P.projectList.isUploading,isFetching:P.projectList.isFetching,projects:P.projectList.projects.map(function(e){return e.project_name===t?Object.assign(Object.assign({},e),{is_starred:!1}):e})}})},this.onSubmit=function(e,t){var n,o,a;P.form.markAllAsTouched(),e?P.inputProjectName?P.projectList.projects&&P.projectList.projects.find(function(e){return e?e.project_name===P.inputProjectName:null})?(null===(n=P.form.get("projectName"))||void 0===n||n.setErrors({exist:!0}),P._refProjectName.nativeElement.focus()):(P.createProject(P.inputProjectName),P.selectedProjectName=null===(o=P.form.get("projectName"))||void 0===o?void 0:o.value,P.labelTextUpload=[],P._labelTextFilename.nativeElement.innerHTML=""):(null===(a=P.form.get("projectName"))||void 0===a||a.setErrors({required:!0}),P._refProjectName.nativeElement.focus()):t&&P.startProject(t)},this.startProject=function(n){P.selectedProjectName=n;var o=P._dataSetService.checkProjectStatus(n),a=P._dataSetService.updateProjectLoadStatus(n),r=P._dataSetService.checkExistProjectStatus(n),i=P._dataSetService.getThumbnailList;P.subjectSubscription=P.subject$.pipe(Object(u.a)(function(){return Object(h.a)([o])}),Object(l.a)(function(t){var n=e(t,1)[0],o=n.message,a=n.content;P.projectList={isUploading:P.projectList.isUploading,isFetching:P.projectList.isFetching,projects:P.projectList.projects.map(function(e){return e.project_name===a[0].project_name?Object.assign(Object.assign({},a[0]),{created_date:e.created_date}):e})};var r=a[0].is_loaded;return 1===o&&!r}),Object(u.a)(function(t){return e(t,1)[0].message?Object(h.a)([a,r]):[]}),Object(u.a)(function(o){var a=e(o,2);!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(a[0]);var c=a[1],s=c.message,b=c.uuid_list,d=c.label_list;return 2===s?(P.labelList=t(d),b.length>0?b.map(function(e){return i(n,e)}):[]):Object(f.a)(500).pipe(Object(u.a)(function(){return r}),Object(l.a)(function(e){return 2===e.message}),Object(u.a)(function(e){var o=e.uuid_list,a=e.label_list;return P.labelList=t(a),o.length>0?o.map(function(e){return i(n,e)}):[]}))}),Object(u.a)(function(e){return e})).subscribe(function(e){P.thumbnailList=[].concat(t(P.thumbnailList),[e])},function(e){},function(){P._router.navigate(["imglabel/"+P.imgLblMode],{state:{thumbnailList:P.thumbnailList,projectName:n,labelList:P.labelList}}),P._spinnerService.hideSpinner()}),P.subject$.next()},this.createProject=function(e){var t=P._dataSetService.createNewProject(e),n=P._dataSetService.updateLabelList(e,P.labelTextUpload),o=P._dataSetService.localUploadStatus(e),a=P._dataSetService.getThumbnailList,r=0;P.projectList=Object.assign(Object.assign({},P.projectList),{isUploading:!0}),P.subjectSubscription=P.subject$.pipe(Object(l.a)(),Object(u.a)(function(){return t}),Object(u.a)(function(){return n}),Object(u.a)(function(t){return 5===(n=t.message)||1!==n&&0!==n?Object(v.a)(function(e){return console.error(e),P.projectList=Object.assign(Object.assign({},P.projectList),{isUploading:!1}),e}):Object(f.a)(500).pipe(Object(u.a)(function(){return o}),Object(l.a)(function(e){var t=e.message;return P.isOverlayOn=0===t||2===t,P.isImageUploading=2===t,4===t||1===t}),Object(u.a)(function(t){var n=t.uuid_list,o=t.message,i=4===o&&n.length>0?n.map(function(t){return a(e,t)}):[];return P.projectList=Object.assign(Object.assign({},P.projectList),i.length>0?{isUploading:!0}:{isUploading:!1}),r=i.length,4===o&&P.toggleModalDisplay(!1),i}),Object(u.a)(function(e){return e}));var n})).subscribe(function(e){(r=e?--r:r)<1&&(P.projectList=Object.assign(Object.assign({},P.projectList),{isUploading:!1}))},function(e){},function(){P.getProjectList()}),P.subject$.next()},this.renameProject=function(e,t){P._dataSetService.renameProject(e,t).pipe(Object(l.a)(),Object(b.a)(function(e){return e.message})).subscribe(function(t){1===t&&(P._languageService._translate.get("renameSuccess").subscribe(function(t){alert(e+" "+t)}),P.getProjectList(),P.toggleRenameModalDisplay(!1))})},this.deleteProject=function(e){P._dataSetService.deleteProject(e).pipe(Object(l.a)(),Object(b.a)(function(e){return e.message})).subscribe(function(t){1===t&&(P._languageService._translate.get("deleteSuccess").subscribe(function(t){alert(e+" "+t)}),P.getProjectList())})},this.keyDownEvent=function(e){"Escape"===e.key&&P.toggleRenameModalDisplay(!1)&&P.toggleModalDisplay(!1)},this._imgLblModeService.imgLabelMode$.pipe(Object(m.a)()).subscribe(function(e){return P.imgLblMode=e}),this._spinnerService.returnAsObservable().pipe(Object(p.a)(this.unsubscribe$)).subscribe(function(e){return P.isLoading=e}),this.createFormControls(),this.renameFormControls(),this._languageService.initializeLanguage("data-set-page",["data-set-page-en","data-set-page-cn","data-set-page-ms"])}return i(n,[{key:"ngOnInit",value:function(){this.getProjectList()}},{key:"onSubmitRename",value:function(){var e,t,n,o=this;this.renameForm.markAllAsTouched(),this.newInputProjectName?this.projectList.projects&&this.projectList.projects.find(function(e){return e?e.project_name===o.newInputProjectName:null})?(null===(e=this.renameForm.get("newProjectName"))||void 0===e||e.setErrors({exist:!0}),this._refProjectName.nativeElement.focus()):(this.renameProject(this.oldProjectName,this.newInputProjectName),this.selectedProjectName=null===(t=this.renameForm.get("newProjectName"))||void 0===t?void 0:t.value):(null===(n=this.renameForm.get("newProjectName"))||void 0===n||n.setErrors({required:!0}),this._refProjectName.nativeElement.focus())}},{key:"ngOnDestroy",value:function(){this.unsubscribe$.next(),this.unsubscribe$.complete()}}]),n}(),le.\u0275fac=function(e){return new(e||le)(w.Hb(j.b),w.Hb(w.h),w.Hb(_.a),w.Hb(x.a),w.Hb(M.a),w.Hb(P.a),w.Hb(y.a),w.Hb(O.a))},le.\u0275cmp=w.Bb({type:le,selectors:[["data-set-layout"]],viewQuery:function(e,t){var n;1&e&&(w.qc(Z,!0),w.qc(Q,!0),w.qc(ee,!0),w.qc(te,!0)),2&e&&(w.dc(n=w.Ub())&&(t._refProjectName=n.first),w.dc(n=w.Ub())&&(t._labelTextFile=n.first),w.dc(n=w.Ub())&&(t._labelTextFilename=n.first),w.dc(n=w.Ub())&&(t._refNewProjectName=n.first))},hostBindings:function(e,t){1&e&&w.Tb("keydown",function(e){return t.keyDownEvent(e)},!1,w.fc)},decls:51,vars:40,consts:[["class","overlay",4,"ngIf"],[3,"_onChange"],[1,"upper-container"],[3,"_onCreate","_onImport"],[3,"_jsonSchema","_onClick","_onStarred","_onDelete","_onRename"],[3,"id","modalBodyStyle","modalTitle","scrollable"],[3,"formGroup"],[1,"content-container"],[1,"new-project-container"],[1,"label"],["type","text","placeholder","Enter project name","formControlName","projectName",1,"input-style",3,"value","input"],["refProjectName",""],[4,"ngIf"],[1,"select-folder-container"],[1,"label","label-file"],[1,"choose-file-btn"],["type","file","accept",".txt",1,"input-id",3,"change"],["labeltextfile",""],[1,"filename"],["labeltextfilename",""],[1,"horizontal-line"],[1,"model-button-container"],["type","submit",1,"button-style","create-btn",3,"click"],["type","text","placeholder","Enter new project name","formControlName","newProjectName",1,"input-style",3,"value","input"],["refNewProjectName",""],[3,"_loading"],[1,"overlay"],[2,"margin-top","40vh","color","rgb(255, 255, 255, 0.9)","text-align","center","font-size","3vh"],[1,"validation"],[1,"error-msg"]],template:function(e,t){var n,o;(1&e&&(w.kc(0,ne,3,1,"div",0),w.Ib(1,"page-header",1),w.Mb(2,"div",2),w.Mb(3,"data-set-side-menu",3),w.Tb("_onCreate",function(e){return t.toggleModalDisplay(e)})("_onImport",function(){return t.importProject()}),w.Lb(),w.Mb(4,"div"),w.Ib(5,"data-set-header"),w.Mb(6,"data-set-card",4),w.Tb("_onClick",function(e){return t.onSubmit(!1,e)})("_onStarred",function(e){return t.onStarred(e)})("_onDelete",function(e){return t.deleteProject(e)})("_onRename",function(e){return t.toggleRenameModalDisplay(e)}),w.Lb(),w.Lb(),w.Lb(),w.Mb(7,"modal",5),w.Wb(8,"translate"),w.Mb(9,"form",6),w.Mb(10,"div",7),w.Mb(11,"div",8),w.Mb(12,"label",9),w.mc(13),w.Wb(14,"translate"),w.Lb(),w.Mb(15,"input",10,11),w.Tb("input",function(e){return t.onChange(e.target.value)}),w.Lb(),w.Lb(),w.kc(17,re,4,2,"ng-container",12),w.Mb(18,"div",13),w.Mb(19,"label",14),w.mc(20),w.Wb(21,"translate"),w.Lb(),w.Mb(22,"label",15),w.mc(23),w.Wb(24,"translate"),w.Mb(25,"input",16,17),w.Tb("change",function(e){return t.onFileChange(e)}),w.Lb(),w.Lb(),w.Ib(27,"label",18,19),w.Lb(),w.Ib(29,"div",20),w.Mb(30,"div",21),w.Mb(31,"button",22),w.Tb("click",function(){return t.onSubmit(!0)}),w.mc(32),w.Wb(33,"translate"),w.Lb(),w.Lb(),w.Lb(),w.Lb(),w.Lb(),w.Mb(34,"modal",5),w.Wb(35,"translate"),w.Mb(36,"form",6),w.Mb(37,"div",7),w.Mb(38,"div",8),w.Mb(39,"label",9),w.mc(40),w.Wb(41,"translate"),w.Lb(),w.Mb(42,"input",23,24),w.Tb("input",function(e){return t.onChangeRename(e.target.value)}),w.Lb(),w.Lb(),w.kc(44,se,4,2,"ng-container",12),w.Ib(45,"div",20),w.Mb(46,"div",21),w.Mb(47,"button",22),w.Tb("click",function(){return t.onSubmitRename()}),w.mc(48),w.Wb(49,"translate"),w.Lb(),w.Lb(),w.Lb(),w.Lb(),w.Lb(),w.Ib(50,"spinner",25)),2&e)&&(w.ac("ngIf",t.isOverlayOn),w.xb(1),w.ac("_onChange",t.onChangeSchema),w.xb(5),w.ac("_jsonSchema",t.projectList),w.xb(1),w.ac("id",t.modalIdCreateProject)("modalBodyStyle",t.createProjectModalBodyStyle)("modalTitle",w.Xb(8,24,"createNewProject"))("scrollable",!1),w.xb(2),w.ac("formGroup",t.form),w.xb(4),w.oc("",w.Xb(14,26,"newProjectName")," "),w.xb(2),w.ac("value",t.inputProjectName),w.xb(2),w.ac("ngIf",null==(n=t.form.get("projectName"))?null:n.touched),w.xb(3),w.oc("",w.Xb(21,28,"labelListFile")," "),w.xb(3),w.oc(" ",w.Xb(24,30,"chooseFile"),""),w.xb(9),w.oc(" ",w.Xb(33,32,"createButton")," "),w.xb(2),w.ac("id",t.modalIdRenameProject)("modalBodyStyle",t.renameProjectModalBodyStyle)("modalTitle",w.Xb(35,34,"renameProject"))("scrollable",!1),w.xb(2),w.ac("formGroup",t.renameForm),w.xb(4),w.oc("",w.Xb(41,36,"newProjectName")," "),w.xb(2),w.ac("value",t.inputProjectName),w.xb(2),w.ac("ngIf",null==(o=t.renameForm.get("newProjectName"))?null:o.touched),w.xb(4),w.oc(" ",w.Xb(49,38,"updateButton")," "),w.xb(2),w.ac("_loading",t.isLoading))},directives:[c.k,L.a,F,E,q,G.a,j.n,j.g,j.d,j.a,j.f,j.c,Y.a],pipes:[C.c],styles:[".upper-container[_ngcontent-%COMP%]{display:flex;margin-top:5vh}.model[_ngcontent-%COMP%]{z-index:1000;padding-top:10vh;top:0;width:100%;height:100%;overflow:auto;background-color:transparent;scrollbar-width:none;position:fixed;background:rgba(0,0,0,.7)}.model-content[_ngcontent-%COMP%]{background-color:#525353;padding:1vw;border:solid;max-width:30vw;min-width:30vw;border-radius:1vw;margin:15vh auto auto}.content-container[_ngcontent-%COMP%]{margin-left:1.3vw}.content-header[_ngcontent-%COMP%]{color:#fff;font-size:3vh}.new-project-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:3vh 0 0;align-items:baseline}.label[_ngcontent-%COMP%]{margin-right:1vw}.input-style[_ngcontent-%COMP%], .label[_ngcontent-%COMP%]{color:#fff;font-size:2vh}.input-style[_ngcontent-%COMP%]{border-radius:2vw;border:none;outline:none;background-color:#363636;min-width:11vw;max-width:11vw;min-height:4vh;max-height:4vh;padding:0 1vw}.validation[_ngcontent-%COMP%]{color:red}.error-msg[_ngcontent-%COMP%]{font-size:2vh}.select-folder-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:2vh 0 0}.input[_ngcontent-%COMP%]{color:#7fffd4}.horizontal-line[_ngcontent-%COMP%]{background-color:#fff;min-height:.3vh;max-height:.3vh;margin:2vh auto}.model-button-container[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;padding:1vw}.button-style[_ngcontent-%COMP%]{padding:1vh 1.5vw;border-radius:1vh;border:none;outline:none;color:#fff;cursor:pointer;font-size:2vh}.create-btn[_ngcontent-%COMP%]{background-color:#169887}.cancel-btn[_ngcontent-%COMP%]{background-color:#444;margin-right:.7vw}.choose-file-btn[_ngcontent-%COMP%]{font-size:2vh;text-decoration:none;background-color:#444;color:#fff;padding:.5vh 1vw;border:none;border-radius:1vh;margin-right:1vw;cursor:pointer}.label-file[_ngcontent-%COMP%]{padding-top:.5vh}.input-id[_ngcontent-%COMP%]{font-size:2vh;display:none}.filename[_ngcontent-%COMP%]{font-size:2vh;padding-top:.5vh;color:#fff}.overlay[_ngcontent-%COMP%]{z-index:2000;position:absolute;background-color:rgba(0,0,0,.9);width:99.9vw;height:99.7vh;cursor:not-allowed}"]}),le)}],me=((be=function e(){a(this,e)}).\u0275mod=w.Fb({type:be}),be.\u0275inj=w.Eb({factory:function(e){return new(e||be)},imports:[[_.d.forChild(ue)]]}),be),pe=r("KZX/"),ge=((de=function e(){a(this,e)}).\u0275mod=w.Fb({type:de}),de.\u0275inj=w.Eb({factory:function(e){return new(e||de)},imports:[[c.b,pe.a,me]]}),de)}}])}();